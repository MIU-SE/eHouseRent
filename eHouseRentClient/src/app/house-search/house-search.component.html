<!-- import{House}from "./house"; -->
<div class="container" style="margin-top: 2em;">
    <h3 style="color:blue">Well Come To Our eHouseRent system</h3>

    <form [hidden]="bookingForm" (ngSubmit)="searchHouse()" #houseForm="ngForm">
        <fieldset>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="state">state</label>
                        <input type="text" name="state" class="form-control" #State="ngModel" [(ngModel)]="state" required minlength="2" placeholder="Add State" />

                        <div *ngIf="State.invalid && (State.dirty || State.touched)" class="alert text-danger">
                            <div *ngIf="State.errors.required">
                                state must be filled
                            </div>
                            <div *ngIf="State.errors.minlength">
                                state must at least be 2 character long
                            </div>
                        </div>

                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="city">city</label>
                        <input type="input" name="city" class="form-control" #City="ngModel" [(ngModel)]="city" required minlength="2" placeholder="Add City" />

                        <div *ngIf="City.invalid && (City.dirty || City.touched)" class="alert text-danger">
                            <div *ngIf="City.errors.required">
                                City must be filled
                            </div>
                            <div *ngIf="City.errors.minlength">
                                City must at least be 2 character long
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                <div class="col-md-6 form-inline">
                    <div class="form-group">
                        <input class="form-control" placeholder="Add check-in date" name="dp1" [(ngModel)]="model1"
                        ngbDatepicker #d1="ngbDatepicker"  [(ngModel)]=check_in_date><!-- [(ngModel)]="booking.checkInDate"> -->
                        
                        <div class="input-group-append">
                            <button class="btn btn-outline-secondary calendar" (click)="d1.toggle()" type="button"></button>
                        </div>
                    </div>
                </div>
                    <div class="col-md-6 form-inline">
                        <div class="form-group">
                            <input class="form-control" placeholder="Add check-out date" name="dp2" [(ngModel)]="model2"
                                ngbDatepicker #d2="ngbDatepicker" [(ngModel)]=check_out_date><!--[(ngModel)]="booking.checkOutDate">-->
                            <div class="input-group-append">
                                <button class="btn btn-outline-secondary calendar" (click)="d2.toggle()" type="button"></button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div style="float:right;">
                <button id="btnSubmit" type="submit" class="btn btn-outline-success" [disabled]="!houseForm.valid">Search
                    House</button>
            </div>
        </fieldset>
    </form>
</div><br>
<form (ngSubmit)="saveBooking()" #houseForm="ngForm">
    <div class="container" style="margin-top: 2em;">
        <table [hidden]="hideTableHeader" id="tbl_houses" class="table table-striped table-bordered table-sm" cellspacing="0" width="100%" data-page-length='2'>
            <thead class="table-primary">
                <tr>
                    <th scope="col">houseType</th>
                    <th scope="col">image</th>
                    <th scope="col">description</th>
                    <th scope="col">numberOfRooms</th>
                    <th scope="col">price per day</th>
                    <th scope="col">total price</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let house of houses">
                    <td>{{house.houseType}}</td>
                    <td>
                        <div [ngSwitch]="house.houseType">
                            <div *ngSwitchCase="'house'">

                                <img src="assets/images/jesse-roberts-561igiTyvSk-unsplash.jpg"
                                    style="width:200px;height:100;">

                            </div>

                            <div *ngSwitchCase="'appartment'">
                                <img src="assets/images/brandon-griggs-wR11KBaB86U-unsplash.jpg"
                                    style="width:150px;height:100;">

                            </div>

                            <div *ngSwitchCase="'luxury'">
                                <img src="assets/images/digital-marketing-agency-ntwrk-g39p1kDjvSY-unsplash.jpg"
                                    style=" width:200px; height:100">
                            </div>
                            <div *ngSwitchDefault>
                                <img src="assets/images/logo-nav@2x.png" ,style=" width:213px; height:119px">
                            </div>
                        </div>

                    </td>
                    <td>{{house.description}}</td>
                    <td>{{house.numberOfRooms}}</td>
                    <td>{{house.price}}</td>
                    <td>{{house.price * diffInDays}}</td>
                    <!-- <td>{{house.houseId}}</td> -->

                    <td>
                        <div style="float:right;">

                            <button id="btnSubmit" type="submit" class="btn btn-outline-success" [disabled]="!houseForm.valid">Book
                            </button>
                        </div>
                    </td>
                    <td>
                        <a class="btn btn-outline-primary btn-lg" href="house/search">cancel</a>

                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</form>


<!-- <input type="text" name="description" #description="ngModel"
                        [(ngModel)]="booking.house.description" />
                    <input type="text" name="houseType" #housetype="ngModel" [(ngModel)]="booking.house.houseType" />
                    <input type="text" name="numberOfRooms" #numberOfRooms="ngModel"
                        [(ngModel)]="booking.house.numberOfRooms" />
                    <input type="text" name="price" #price="ngModel" [(ngModel)]="booking.house.price" /> -->